---
import { defaultDarkTheme, defaultTheme, ssrStyle, themes } from "./themes";
import themeRuntimeScript from "./themeRuntimeInline.js?raw";

const initJson = JSON.stringify({ defaultDarkTheme, defaultTheme, themes });
---

<!-- Initial default theme styles for noscript -->
<style is:inline set:html={ssrStyle()} data-theme></style>
{
    defaultTheme.cssUrls.map((cssUrl: string) => (
        <link data-theme href={cssUrl} rel="stylesheet" />
    ))
}

<!-- Set up theme styles for normal client -->
<script is:inline set:html={initJson} data-theme-init type="application/json" />
<script is:inline set:html={themeRuntimeScript} />
